{"version":3,"sources":["img/dortable-1.png","img/announce-preview-example.png","img/dortable-2.png","img/dortable-3.png","img/dortable-4.png","img/dortable-5.png","img/dortable-6.png","img/dortable-7.png","img/dortable-8.png","img/dortable-9.png","img/dortable-10.png","img/dortable-11.png","img/dortable-12.png","img/dortable-13.png","img/dortable-14.png","img/dortable-15.png","img/dortable-16.png","img/heart.svg","components/AnnouncePreview/AnnouncePreview.js","components/AnnounceGrid/AnnounceGrid.js","components/Footer/Footer.js","pages/MainPage.js","pages/Dortable.js","index.js"],"names":["module","exports","__webpack_require__","p","Like","react","aria-hidden","focusable","data-prefix","data-icon","className","role","xmlns","viewBox","fill","d","announcePreview","props","announce","react_router_dom","to","link","style","background","concat","img","example","backgroundSize","backgroundPosition","date","title","AnnouncePreview_Like","likes","announceGrid","announces","map","isNaN","AnnouncePreview_AnnouncePreview","key","FooterEl","styled","div","_templateObject","Footer","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","wrapperRef","React","state","stickToBottom","wrapper","current","getBoundingClientRect","bottom","window","innerHeight","setState","ref","Date","getFullYear","MainPage","AnnounceGrid_AnnounceGrid","dortable","components_Footer_Footer","Text","Dortable_templateObject","_ref","white","_ref2","marginTop","Image","_templateObject2","MainBackground","_templateObject3","_ref3","_ref4","Background","_templateObject4","_ref5","cover","Title","h1","_templateObject5","Header","h2","_templateObject6","fadingImageAnim","keyframes","_templateObject7","FadingImage","_templateObject8","_ref6","animDelay","_ref7","top","_ref8","left","_ref9","height","_ref10","size","_ref11","Dortable","coverImageHeight","blackCover","isImagesLoaded","startDarkThemePos","endDarkThemePos","onDarkThemeImageLoaded","startDarkThemeImg","startDarkThemeRef","endDarkThemeImg","endDarkThemeRef","pageYOffset","addEventListener","scrollHandler","onCoverLoad","coverImage","coverRef","clientHeight","yPosTop","yPosBottom","_this$state","console","log","newBlackCover","removeEventListener","_this$state2","position","dark","src","img1","onLoad","img2","onClick","darkThemeHandler","img3","img4","img5","img6","img7","img8","img9","img10","img11","img12","img13","img14","img15","img16","app","react_default","a","createElement","react_router","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.585accf2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dortable-1.56da5ef7.png\";","module.exports = __webpack_public_path__ + \"static/media/announce-preview-example.0b79c36a.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-2.d14b9c3e.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-3.cd6de84a.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-4.da94420d.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-5.4486484f.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-6.e8fb00b7.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-7.2420451e.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-8.0f0c3916.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-9.f1ccaf5e.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-10.243e9390.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-11.5957e744.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-12.690e72d6.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-13.7df8f02b.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-14.8dd939b5.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-15.cbfd245f.png\";","module.exports = __webpack_public_path__ + \"static/media/dortable-16.8c278ea5.png\";","module.exports = __webpack_public_path__ + \"static/media/heart.311b7fc9.svg\";","import * as React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport example from '../../img/announce-preview-example.png';\nimport heart from '../../img/heart.svg';\nimport './AnnouncePreview.css';\n\nconst Like = () => <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"heart\" className=\"svg-inline--fa fa-heart fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z\"></path></svg>;\n\nconst announcePreview = (props) => {\n  const { announce } = props;\n  return (\n    <Link to={ announce && announce.link || '/' } className=\"announce-preview\">\n      <div className=\"announce-preview__image\">\n        <div style={ { background: `url(${announce && announce.img || example})`, backgroundSize: 'cover', backgroundPosition: 'center center' } } />\n      </div>\n      <div className=\"announce-preview__description\">\n        <div className=\"date\">{ announce && announce.date || '30 мая 2019' }</div>\n        <div className=\"title\">{ announce && announce.title || 'Логотип Юрия Хованского' }</div>\n        <div className=\"likes-wrapper\">\n          <div className=\"likes\"><Like />{ announce && announce.likes || '56 лайков' }</div>\n        </div>\n      </div>\n    </Link>\n  );\n}\n\nexport default announcePreview;","import * as React from 'react';\n\nimport AnnouncePreview from '../AnnouncePreview/AnnouncePreview';\nimport './AnnounceGrid.css';\n\nconst announceGrid = props => (\n  <div className=\"announce-grid\">\n    { props.announces.map(announce => {\n      if (isNaN(announce)) {\n        return <AnnouncePreview key={ announce.link } announce={ announce } />;\n      }\n      return <AnnouncePreview key={ announce } />;\n    }) }\n  </div>\n);\n\nexport default announceGrid;","import * as React from 'react';\nimport styled from 'styled-components';\n\nconst FooterEl = styled.div`\n  width: 100%;\n  /* height: 10vh; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #000110;\n  color: white;\n  & > h1 {\n    font-family: 'Merriweather', serif;\n  }\n  &.stick {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n  }\n`;\n\nclass Footer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.wrapperRef = React.createRef();\n\n    this.state = {\n      stickToBottom: false\n    }\n  }\n\n  componentDidMount () {\n    const wrapper = this.wrapperRef.current;\n    if (!wrapper) {\n      return;\n    }\n    const { bottom } = wrapper.getBoundingClientRect();\n    const { innerHeight } = window;\n    if (bottom < innerHeight) {\n      this.setState({ stickToBottom: true });\n    }\n  }\n\n  render () {\n    const { stickToBottom } = this.state;\n    return (\n      <FooterEl ref={ this.wrapperRef } className={ stickToBottom && 'stick' || '' }>\n        <h1>МК, { new Date().getFullYear() } ©</h1>\n      </FooterEl>\n    );\n  }\n};\n\nexport default Footer;","import * as React from 'react';\n\nimport AnnounceGrid from '../components/AnnounceGrid/AnnounceGrid';\nimport './MainPage.css';\nimport dortable from '../img/dortable-1.png';\nimport Footer from '../components/Footer/Footer';\n\nclass MainPage extends React.Component {\n  render () {\n    return (\n      <div className=\"main-page\">\n        <AnnounceGrid announces={ [{ img: dortable, title: 'DOR Table', date: 'Сегодня', likes: '33', link: '/dortable' },] } />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default MainPage;\n","import * as React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nimport Footer from '../components/Footer/Footer';\nimport img1 from '../img/dortable-1.png';\nimport img2 from '../img/dortable-2.png';\nimport img3 from '../img/dortable-3.png';\nimport img4 from '../img/dortable-4.png';\nimport img5 from '../img/dortable-5.png';\nimport img6 from '../img/dortable-6.png';\nimport img7 from '../img/dortable-7.png';\nimport img8 from '../img/dortable-8.png';\nimport img9 from '../img/dortable-9.png';\nimport img10 from '../img/dortable-10.png';\nimport img11 from '../img/dortable-11.png';\nimport img12 from '../img/dortable-12.png';\nimport img13 from '../img/dortable-13.png';\nimport img14 from '../img/dortable-14.png';\nimport img15 from '../img/dortable-15.png';\nimport img16 from '../img/dortable-16.png';\n\nconst Text = styled.div`\n  max-width: 920px;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  color: ${({ white }) => white && 'white' || 'black'};\n  transition: color 0.3s;\n  padding: 0 10px;\n  padding-top: ${({ marginTop }) => marginTop && `${marginTop}px` || '0'};\n  & > p {\n    font-family: 'Merriweather', serif;\n  }\n  position: relative;\n  z-index: 1;\n`;\n\nconst Image = styled.img`\n  max-width: 100%;\n  height: auto;\n  align-self: center;\n  &.cover {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: -3;\n  }\n`;\n\nconst MainBackground = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  background: white;\n  z-index: 0;\n  height: ${({ marginTop }) => marginTop && `calc(100% - ${marginTop}px)` || '100%'};\n  margin-top: ${({ marginTop }) => marginTop && `${marginTop}px` || '0'};\n  transition: background-color 0.3s;\n  &:before {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 100px;\n    background: linear-gradient(rgba(255, 255, 255, 0) 0, white 100%);\n    content: '';\n    display: block;\n    transform: translateY(-100%);\n  }\n`;\n\nconst Background = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 0;\n  background-color: #2e2b31;\n  transform: ${({ cover }) => cover === 'normal' && 'translateY(0)'\n    || cover === 'up' && ' translateY(-100%)'\n    || 'translateY(100%)'};\n  transition: transform 0.3s;\n  will-change: transform;\n  /* transform: scaleY(0); */\n`;\n\nconst Title = styled.h1`\n  position: absolute;\n  top: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-family: 'Merriweather', serif;\n`;\n\nconst Header = styled.h2`\n  font-family: 'Merriweather', serif;\n`;\n\nconst fadingImageAnim = keyframes`\n  0% {\n    opacity: 0;\n    transform: translateY(-10%);\n  }\n  20% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(10%);\n  }\n`;\n\nconst FadingImage = styled.img`\n  position: absolute;\n  animation: ${fadingImageAnim} 2s ease-in-out;\n  animation-delay: ${({ animDelay }) => animDelay || '2s'};\n  top: ${({ top }) => top || '10vh'};\n  left: ${({ left }) => left || '10vw'};\n  opacity: 0;\n  height: ${({ height }) => height || '15rem'};\n  box-shadow: 0 0 40px rgba(0, 0, 0, 0.3);\n  z-index: 100;\n  @media (max-width: 800px) {\n    display: ${({ size }) => size === 'big' && 'none' || 'block'};\n  }\n  @media (max-width: 500px) {\n    display: ${({ size }) => (size === 'medium' || size === 'big') && 'none' || 'block'};\n  }\n`;\n\nclass Dortable extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.coverRef = React.createRef();\n    this.startDarkThemeRef = React.createRef();\n    this.endDarkThemeRef = React.createRef();\n  }\n\n  state = {\n    coverImageHeight: 0,\n    blackCover: 'down',\n    isImagesLoaded: false,\n    startDarkThemePos: 0,\n    endDarkThemePos: 0\n  };\n\n  componentWillUnmount () {\n    window.removeEventListener('scroll', this.scrollHandler);\n  };\n\n  onDarkThemeImageLoaded = () => {\n    const { isImagesLoaded } = this.state;\n    if (!isImagesLoaded) {\n      return this.setState({ isImagesLoaded: true });\n    }\n\n    const startDarkThemeImg = this.startDarkThemeRef.current;\n    const endDarkThemeImg = this.endDarkThemeRef.current;\n    if (!startDarkThemeImg || !endDarkThemeImg) {\n      return;\n    }\n\n    this.setState({\n      startDarkThemePos: startDarkThemeImg.getBoundingClientRect().top + window.pageYOffset - 3 * window.innerHeight / 4,\n      endDarkThemePos: endDarkThemeImg.getBoundingClientRect().bottom + window.pageYOffset + window.innerHeight / 2,\n    });\n    window.addEventListener('scroll', this.scrollHandler);\n  };\n\n  onCoverLoad = () => {\n    const coverImage = this.coverRef.current;\n    if (!coverImage) {\n      return;\n    }\n\n    this.setState({\n      coverImageHeight: coverImage.clientHeight\n    });\n  };\n\n  scrollHandler = () => {\n    const yPosTop = window.pageYOffset;\n    const yPosBottom = yPosTop + window.innerHeight;\n    const { startDarkThemePos, endDarkThemePos, blackCover } = this.state;\n    console.log({ yPosTop, startDarkThemePos, endDarkThemePos, blackCover });\n    let newBlackCover = '';\n    if (yPosTop < startDarkThemePos && blackCover !== 'down') {\n      newBlackCover = 'down';\n    } else if (yPosTop > startDarkThemePos && yPosBottom < endDarkThemePos && blackCover !== 'normal') {\n      newBlackCover = 'normal';\n    } else if (yPosBottom > endDarkThemePos && blackCover !== 'up') {\n      newBlackCover = 'up';\n    } else {\n      return;\n    }\n    this.setState({ blackCover: newBlackCover });\n  };\n\n  // darkThemeHandler = () => {\n  //   this.setState(prevState => {\n  //     let newState = '';\n  //     if (prevState.blackCover === 'down') {\n  //       newState = 'normal';\n  //     } else if (prevState.blackCover === 'normal') {\n  //       newState = 'up';\n  //     } else if (prevState.blackCover === 'up') {\n  //       newState = 'down';\n  //     } else {\n  //       return;\n  //     }\n  //     return { blackCover: newState };\n  //   });\n  // }\n\n  render () {\n    const { coverImageHeight, blackCover } = this.state;\n    return (\n      <div style={ { position: 'relative' } }>\n        <MainBackground marginTop={ coverImageHeight } dark={ blackCover } />\n        <Background cover={ blackCover } />\n        <Image src={ img1 } ref={ this.coverRef } onLoad={ this.onCoverLoad } className=\"cover\" />\n        <Text white={ blackCover === 'normal' } marginTop={ coverImageHeight } >\n          <Title>DOR Table</Title>\n          <p><i>Задача. Сделать приложение для HR-менеджеров, которое заменит Excel.</i></p>\n          <p>\n            HR-агенты используют таблицы. Много таблиц. Таблицы с работниками, таблицы с задачами, с ролями, правилами и много много всего. Сейчас они используют Excel для этого. DOR Table объединит все эти таблицы в одно приложение, свяжет все сущности воедино.\n          </p>\n          <p>\n            Для написания приложения использовался Electron, который позволяет писать веб приложения, а компилировать нативные под все платформы (Windows, Linux, macOS). Из библиотек выбрали React, Redux, для стилей styled components (CSS-in-JS). Для типизации использовали Flow. Для поиска возможных ошибок - ESLint.\n          </p>\n          <p>\n            Все началось с шаблона. Мы постепенно стали разбираться, как настроить его под себя, куда добавить свои компоненты и как их организовать.\n          </p>\n          <p>\n            Структурировать файлы было решено по немного измененному фрактальному подходу (https://hackernoon.com/fractal-a-react-app-structure-for-infinite-scale-4dab943092af).\n          </p>\n          <Header>Функционал приложения</Header>\n          <Image src={ img2 } onClick={ this.darkThemeHandler } />\n          <p>\n            В приложении есть восемь сущностей, для каждой своя таблица. Все таблицы связаны. Например, в таблице Правила мы можем указать, что Роль директор может создавать Процессы в компании.\n          </p>\n          <p>\n            Важная часть - поиск. Он помогает ориентироваться в большом объеме информации. Поиск бывает как текстовый, так и по фильтрам.\n          </p>\n          <Image src={ img3 } />\n          <p>\n            Также вся история таблиц сохраняется, ее можно просмотреть, выбрав дату на панели слева:\n          </p>\n          <Image src={ img4 } />\n          <p>\n            В приложении есть и темная тема:\n          </p>\n          <Image src={ img5 } ref={ this.startDarkThemeRef } onLoad={ this.onDarkThemeImageLoaded } />\n          <p>\n            Почти все ячейки, кроме системных можно отредактировать\n          </p>\n          <Image src={ img6 } />\n          <p>\n            А также прокомментировать\n          </p>\n          <Image src={ img7 } ref={ this.endDarkThemeRef } onLoad={ this.onDarkThemeImageLoaded } />\n          <p>\n            Можно посмотреть сразу все изменения по строке\n          </p>\n          <Image src={ img8 } />\n          <p>\n            Вот так добавляется новая строка\n          </p>\n          <Image src={ img9 } />\n          <p>\n            С валидацией\n          </p>\n          <Image src={ img10 } />\n          <p>\n            Много кода…\n          </p>\n          <Image src={ img11 } />\n          <p>\n            Приложение было написано в течение полугода, была исправлена куча багов, производительность улучшалась несколько десятков раз, весь функционал был добавлен с нуля.\n          </p>\n          <Header>Спасибо за внимание!</Header>\n        </Text>\n        <Footer />\n        <React.Fragment>\n          <FadingImage src={ img12 } animDelay='1s' top='10vh' left='10vw' height='15rem' />\n          <FadingImage src={ img13 } animDelay='0.5s' top='55vh' left='70vw' height='20rem' size=\"big\" />\n          <FadingImage src={ img14 } animDelay='0.7s' top='5vh' left='74vw' height='30rem' />\n          <FadingImage src={ img15 } animDelay='1.3s' top='54vh' left='3vw' height='30rem' size=\"medium\" />\n          <FadingImage src={ img16 } animDelay='1.5s' top='4vh' left='45vw' height='20rem' size=\"big\" />\n        </React.Fragment>\n      </div>\n    );\n  }\n\n};\n\nexport default Dortable","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport './index.css';\nimport MainPage from './pages/MainPage';\nimport Dortable from './pages/Dortable';\nimport Footer from './components/Footer/Footer';\n\nconst app = (\n  <BrowserRouter>\n    <style>\n      { `@import url('https://fonts.googleapis.com/css?family=Merriweather&display=swap');` }\n    </style>\n    <Switch>\n      <Route path=\"/\" component={ MainPage } exact />\n      <Route path=\"/dortable\" component={ Dortable } />\n    </Switch>\n    { false && <Footer /> }\n  </BrowserRouter>\n);\n\nReactDOM.render(app, document.getElementById('root'));\n"],"sourceRoot":""}